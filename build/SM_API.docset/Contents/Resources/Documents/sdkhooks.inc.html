<!DOCTYPE html>
<title>sdkhooks.inc</title>
<link rel="stylesheet" href="style.css"/>
<pre><a name="1"></a><span class="comment">/**
<a name="2"></a> * vim: set ts=4 :
<a name="3"></a> * =============================================================================
<a name="4"></a> * SourceMod (C)2009-2013 AlliedModders LLC.  All rights reserved.
<a name="5"></a> * =============================================================================
<a name="6"></a> *
<a name="7"></a> * This file is part of the SourceMod/SourcePawn SDK.
<a name="8"></a> *
<a name="9"></a> * This program is free software; you can redistribute it and/or modify it under
<a name="10"></a> * the terms of the GNU General Public License, version 3.0, as published by the
<a name="11"></a> * Free Software Foundation.
<a name="12"></a> * 
<a name="13"></a> * This program is distributed in the hope that it will be useful, but WITHOUT
<a name="14"></a> * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
<a name="15"></a> * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
<a name="16"></a> * details.
<a name="17"></a> *
<a name="18"></a> * You should have received a copy of the GNU General Public License along with
<a name="19"></a> * this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
<a name="20"></a> *
<a name="21"></a> * As a special exception, AlliedModders LLC gives you permission to link the
<a name="22"></a> * code of this program (as well as its derivative works) to "Half-Life 2," the
<a name="23"></a> * "Source Engine," the "SourcePawn JIT," and any Game MODs that run on software
<a name="24"></a> * by the Valve Corporation.  You must obey the GNU General Public License in
<a name="25"></a> * all respects for all other code used.  Additionally, AlliedModders LLC grants
<a name="26"></a> * this exception to all derivative works.  AlliedModders LLC defines further
<a name="27"></a> * exceptions, found in LICENSE.txt (as of this writing, version JULY-31-2007),
<a name="28"></a> * or &lt;http://www.sourcemod.net/license.php&gt;.
<a name="29"></a> */</span>
<a name="30"></a>
<a name="31"></a><span class="preprocessor">#if <span class="identifier">defined</span> <span class="identifier">_sdkhooks_included</span>
<a name="32"></a></span> <span class="preprocessor">#endinput
<a name="33"></a></span><span class="preprocessor">#endif
<a name="34"></a></span><span class="preprocessor">#define <span class="identifier">_sdkhooks_included</span>
<a name="35"></a></span>
<a name="36"></a><span class="commentline">// this is obviously _not_ a robust check, but it will solve most conflict and is clean
<a name="37"></a></span><span class="preprocessor">#if !<span class="identifier">defined</span> <span class="identifier">DMG_GENERIC</span>
<a name="38"></a></span><span class="preprocessor">#define <span class="identifier">DMG_GENERIC</span>								<span class="number">0</span>					<span class="comment">/**&lt; generic damage was done */</span>
<a name="39"></a></span><span class="preprocessor">#define <span class="identifier">DMG_CRUSH</span>									(<span class="number">1</span> &lt;&lt; <span class="number">0</span>)	<span class="comment">/**&lt; crushed by falling or moving object.
<a name="40"></a>																								 NOTE: It's assumed crush damage is occurring as a result of physics collision, so no extra physics force is generated by crush damage.
<a name="41"></a>																								 DON'T use DMG_CRUSH when damaging entities unless it's the result of a physics collision. You probably want DMG_CLUB instead. */</span>
<a name="42"></a></span><span class="preprocessor">#define <span class="identifier">DMG_BULLET</span>								(<span class="number">1</span> &lt;&lt; <span class="number">1</span>)	<span class="comment">/**&lt; shot */</span>
<a name="43"></a></span><span class="preprocessor">#define <span class="identifier">DMG_SLASH</span>									(<span class="number">1</span> &lt;&lt; <span class="number">2</span>)	<span class="comment">/**&lt; cut, clawed, stabbed */</span>
<a name="44"></a></span><span class="preprocessor">#define <span class="identifier">DMG_BURN</span>									(<span class="number">1</span> &lt;&lt; <span class="number">3</span>)	<span class="comment">/**&lt; heat burned */</span>
<a name="45"></a></span><span class="preprocessor">#define <span class="identifier">DMG_VEHICLE</span>								(<span class="number">1</span> &lt;&lt; <span class="number">4</span>)	<span class="comment">/**&lt; hit by a vehicle */</span>
<a name="46"></a></span><span class="preprocessor">#define <span class="identifier">DMG_FALL</span>									(<span class="number">1</span> &lt;&lt; <span class="number">5</span>)	<span class="comment">/**&lt; fell too far */</span>
<a name="47"></a></span><span class="preprocessor">#define <span class="identifier">DMG_BLAST</span>									(<span class="number">1</span> &lt;&lt; <span class="number">6</span>)	<span class="comment">/**&lt; explosive blast damage */</span>
<a name="48"></a></span><span class="preprocessor">#define <span class="identifier">DMG_CLUB</span>									(<span class="number">1</span> &lt;&lt; <span class="number">7</span>)	<span class="comment">/**&lt; crowbar, punch, headbutt */</span>
<a name="49"></a></span><span class="preprocessor">#define <span class="identifier">DMG_SHOCK</span>									(<span class="number">1</span> &lt;&lt; <span class="number">8</span>)	<span class="comment">/**&lt; electric shock */</span>
<a name="50"></a></span><span class="preprocessor">#define <span class="identifier">DMG_SONIC</span>									(<span class="number">1</span> &lt;&lt; <span class="number">9</span>)	<span class="comment">/**&lt; sound pulse shockwave */</span>
<a name="51"></a></span><span class="preprocessor">#define <span class="identifier">DMG_ENERGYBEAM</span>						(<span class="number">1</span> &lt;&lt; <span class="number">10</span>)	<span class="comment">/**&lt; laser or other high energy beam  */</span>
<a name="52"></a></span><span class="preprocessor">#define <span class="identifier">DMG_PREVENT_PHYSICS_FORCE</span>	(<span class="number">1</span> &lt;&lt; <span class="number">11</span>)	<span class="comment">/**&lt; Prevent a physics force  */</span>
<a name="53"></a></span><span class="preprocessor">#define <span class="identifier">DMG_NEVERGIB</span>							(<span class="number">1</span> &lt;&lt; <span class="number">12</span>)	<span class="comment">/**&lt; with this bit OR'd in, no damage type will be able to gib victims upon death */</span>
<a name="54"></a></span><span class="preprocessor">#define <span class="identifier">DMG_ALWAYSGIB</span>							(<span class="number">1</span> &lt;&lt; <span class="number">13</span>)	<span class="comment">/**&lt; with this bit OR'd in, any damage type can be made to gib victims upon death. */</span>
<a name="55"></a></span><span class="preprocessor">#define <span class="identifier">DMG_DROWN</span>									(<span class="number">1</span> &lt;&lt; <span class="number">14</span>)	<span class="comment">/**&lt; Drowning */</span>
<a name="56"></a></span><span class="preprocessor">#define <span class="identifier">DMG_PARALYZE</span>							(<span class="number">1</span> &lt;&lt; <span class="number">15</span>)	<span class="comment">/**&lt; slows affected creature down */</span>
<a name="57"></a></span><span class="preprocessor">#define <span class="identifier">DMG_NERVEGAS</span>							(<span class="number">1</span> &lt;&lt; <span class="number">16</span>)	<span class="comment">/**&lt; nerve toxins, very bad */</span>
<a name="58"></a></span><span class="preprocessor">#define <span class="identifier">DMG_POISON</span>								(<span class="number">1</span> &lt;&lt; <span class="number">17</span>)	<span class="comment">/**&lt; blood poisoning - heals over time like drowning damage */</span>
<a name="59"></a></span><span class="preprocessor">#define <span class="identifier">DMG_RADIATION</span>							(<span class="number">1</span> &lt;&lt; <span class="number">18</span>)	<span class="comment">/**&lt; radiation exposure */</span>
<a name="60"></a></span><span class="preprocessor">#define <span class="identifier">DMG_DROWNRECOVER</span>					(<span class="number">1</span> &lt;&lt; <span class="number">19</span>)	<span class="comment">/**&lt; drowning recovery */</span>
<a name="61"></a></span><span class="preprocessor">#define <span class="identifier">DMG_ACID</span>									(<span class="number">1</span> &lt;&lt; <span class="number">20</span>)	<span class="comment">/**&lt; toxic chemicals or acid burns */</span>
<a name="62"></a></span><span class="preprocessor">#define <span class="identifier">DMG_SLOWBURN</span>							(<span class="number">1</span> &lt;&lt; <span class="number">21</span>)	<span class="comment">/**&lt; in an oven */</span>
<a name="63"></a></span><span class="preprocessor">#define <span class="identifier">DMG_REMOVENORAGDOLL</span>				(<span class="number">1</span> &lt;&lt; <span class="number">22</span>)	<span class="comment">/**&lt; with this bit OR'd in, no ragdoll will be created, and the target will be quietly removed.
<a name="64"></a>																								 use this to kill an entity that you've already got a server-side ragdoll for */</span>
<a name="65"></a></span><span class="preprocessor">#define <span class="identifier">DMG_PHYSGUN</span>								(<span class="number">1</span> &lt;&lt; <span class="number">23</span>)	<span class="comment">/**&lt; Hit by manipulator. Usually doesn't do any damage. */</span>
<a name="66"></a></span><span class="preprocessor">#define <span class="identifier">DMG_PLASMA</span>								(<span class="number">1</span> &lt;&lt; <span class="number">24</span>)	<span class="comment">/**&lt; Shot by Cremator */</span>
<a name="67"></a></span><span class="preprocessor">#define <span class="identifier">DMG_AIRBOAT</span>								(<span class="number">1</span> &lt;&lt; <span class="number">25</span>)	<span class="comment">/**&lt; Hit by the airboat's gun */</span>
<a name="68"></a></span><span class="preprocessor">#define <span class="identifier">DMG_DISSOLVE</span>							(<span class="number">1</span> &lt;&lt; <span class="number">26</span>)	<span class="comment">/**&lt; Dissolving! */</span>
<a name="69"></a></span><span class="preprocessor">#define <span class="identifier">DMG_BLAST_SURFACE</span>					(<span class="number">1</span> &lt;&lt; <span class="number">27</span>)	<span class="comment">/**&lt; A blast on the surface of water that cannot harm things underwater */</span>
<a name="70"></a></span><span class="preprocessor">#define <span class="identifier">DMG_DIRECT</span>								(<span class="number">1</span> &lt;&lt; <span class="number">28</span>)
<a name="71"></a></span><span class="preprocessor">#define <span class="identifier">DMG_BUCKSHOT</span>							(<span class="number">1</span> &lt;&lt; <span class="number">29</span>)	<span class="comment">/**&lt; not quite a bullet. Little, rounder, different. */</span>
<a name="72"></a></span><span class="preprocessor">#endif
<a name="73"></a></span>
<a name="74"></a><span class="preprocessor">#if !<span class="identifier">defined</span> <span class="identifier">DMG_CRIT</span>
<a name="75"></a></span>	<span class="commentline">// TF2 crits and minicrits
<a name="76"></a></span>	<span class="preprocessor">#define <span class="identifier">DMG_CRIT</span> <span class="identifier">DMG_ACID</span>
<a name="77"></a></span><span class="preprocessor">#endif
<a name="78"></a></span>
<a name="79"></a><span class="keyword">enum</span> <span class="identifier">SDKHookType</span>
<a name="80"></a>{
<a name="81"></a>	<span class="identifier">SDKHook_EndTouch</span>,
<a name="82"></a>	<span class="identifier">SDKHook_FireBulletsPost</span>,
<a name="83"></a>	<span class="identifier">SDKHook_OnTakeDamage</span>,
<a name="84"></a>	<span class="identifier">SDKHook_OnTakeDamagePost</span>,
<a name="85"></a>	<span class="identifier">SDKHook_PreThink</span>,
<a name="86"></a>	<span class="identifier">SDKHook_PostThink</span>,
<a name="87"></a>	<span class="identifier">SDKHook_SetTransmit</span>,
<a name="88"></a>	<span class="identifier">SDKHook_Spawn</span>,
<a name="89"></a>	<span class="identifier">SDKHook_StartTouch</span>,
<a name="90"></a>	<span class="identifier">SDKHook_Think</span>,
<a name="91"></a>	<span class="identifier">SDKHook_Touch</span>,
<a name="92"></a>	<span class="identifier">SDKHook_TraceAttack</span>,
<a name="93"></a>	<span class="identifier">SDKHook_TraceAttackPost</span>,
<a name="94"></a>	<span class="identifier">SDKHook_WeaponCanSwitchTo</span>,
<a name="95"></a>	<span class="identifier">SDKHook_WeaponCanUse</span>,
<a name="96"></a>	<span class="identifier">SDKHook_WeaponDrop</span>,
<a name="97"></a>	<span class="identifier">SDKHook_WeaponEquip</span>,
<a name="98"></a>	<span class="identifier">SDKHook_WeaponSwitch</span>,
<a name="99"></a>	<span class="identifier">SDKHook_ShouldCollide</span>,
<a name="100"></a>	<span class="identifier">SDKHook_PreThinkPost</span>,
<a name="101"></a>	<span class="identifier">SDKHook_PostThinkPost</span>,
<a name="102"></a>	<span class="identifier">SDKHook_ThinkPost</span>,
<a name="103"></a>	<span class="identifier">SDKHook_EndTouchPost</span>,
<a name="104"></a>	<span class="identifier">SDKHook_GroundEntChangedPost</span>,
<a name="105"></a>	<span class="identifier">SDKHook_SpawnPost</span>,
<a name="106"></a>	<span class="identifier">SDKHook_StartTouchPost</span>,
<a name="107"></a>	<span class="identifier">SDKHook_TouchPost</span>,
<a name="108"></a>	<span class="identifier">SDKHook_VPhysicsUpdate</span>,
<a name="109"></a>	<span class="identifier">SDKHook_VPhysicsUpdatePost</span>,
<a name="110"></a>	<span class="identifier">SDKHook_WeaponCanSwitchToPost</span>,
<a name="111"></a>	<span class="identifier">SDKHook_WeaponCanUsePost</span>,
<a name="112"></a>	<span class="identifier">SDKHook_WeaponDropPost</span>,
<a name="113"></a>	<span class="identifier">SDKHook_WeaponEquipPost</span>,
<a name="114"></a>	<span class="identifier">SDKHook_WeaponSwitchPost</span>,
<a name="115"></a>	<span class="identifier">SDKHook_Use</span>,
<a name="116"></a>	<span class="identifier">SDKHook_UsePost</span>,
<a name="117"></a>	<span class="identifier">SDKHook_Reload</span>,
<a name="118"></a>	<span class="identifier">SDKHook_ReloadPost</span>,
<a name="119"></a>	<span class="identifier">SDKHook_GetMaxHealth</span>,  <span class="comment">/**&lt; ep2v and later */</span>
<a name="120"></a>};
<a name="121"></a>
<a name="122"></a><span class="comment">/*
<a name="123"></a>	Alphabetized for easy readability
<a name="124"></a>	
<a name="125"></a>	SDKHook_EndTouch,
<a name="126"></a>	SDKHook_EndTouchPost,
<a name="127"></a>	
<a name="128"></a>	SDKHook_FireBulletsPost,
<a name="129"></a>	
<a name="130"></a>	SDKHook_GetMaxHealth,  (ep2v and later)
<a name="131"></a>	
<a name="132"></a>	SDKHook_GroundEntChangedPost,
<a name="133"></a>	
<a name="134"></a>	SDKHook_OnTakeDamage,
<a name="135"></a>	SDKHook_OnTakeDamagePost,
<a name="136"></a>	
<a name="137"></a>	SDKHook_PreThink,
<a name="138"></a>	SDKHook_PreThinkPost,
<a name="139"></a>	
<a name="140"></a>	SDKHook_PostThink,
<a name="141"></a>	SDKHook_PostThinkPost,
<a name="142"></a>	
<a name="143"></a>	SDKHook_Reload,
<a name="144"></a>	SDKHook_ReloadPost,
<a name="145"></a>	
<a name="146"></a>	SDKHook_SetTransmit,
<a name="147"></a>	
<a name="148"></a>	SDKHook_ShouldCollide,
<a name="149"></a>	
<a name="150"></a>	SDKHook_Spawn,
<a name="151"></a>	SDKHook_SpawnPost,
<a name="152"></a>	
<a name="153"></a>	SDKHook_StartTouch,
<a name="154"></a>	SDKHook_StartTouchPost,
<a name="155"></a>	
<a name="156"></a>	SDKHook_Think,
<a name="157"></a>	SDKHook_ThinkPost,
<a name="158"></a>	
<a name="159"></a>	SDKHook_Touch,
<a name="160"></a>	SDKHook_TouchPost,
<a name="161"></a>	
<a name="162"></a>	SDKHook_TraceAttack,
<a name="163"></a>	SDKHook_TraceAttackPost,
<a name="164"></a>	
<a name="165"></a>	SDKHook_Use,
<a name="166"></a>	SDKHook_UsePost,
<a name="167"></a>	
<a name="168"></a>	SDKHook_VPhysicsUpdate,
<a name="169"></a>	SDKHook_VPhysicsUpdatePost,
<a name="170"></a>	
<a name="171"></a>	SDKHook_WeaponCanSwitchTo,
<a name="172"></a>	SDKHook_WeaponCanSwitchToPost,
<a name="173"></a>	
<a name="174"></a>	SDKHook_WeaponCanUse,
<a name="175"></a>	SDKHook_WeaponCanUsePost,
<a name="176"></a>	
<a name="177"></a>	SDKHook_WeaponDrop,
<a name="178"></a>	SDKHook_WeaponDropPost,
<a name="179"></a>	
<a name="180"></a>	SDKHook_WeaponEquip,
<a name="181"></a>	SDKHook_WeaponEquipPost,
<a name="182"></a>	
<a name="183"></a>	SDKHook_WeaponSwitch,
<a name="184"></a>	SDKHook_WeaponSwitchPost
<a name="185"></a>*/</span>
<a name="186"></a>
<a name="187"></a><span class="keyword">enum</span> <span class="identifier">UseType</span>
<a name="188"></a>{
<a name="189"></a>	<span class="identifier">Use_Off</span>,
<a name="190"></a>	<span class="identifier">Use_On</span>,
<a name="191"></a>	<span class="identifier">Use_Set</span>,
<a name="192"></a>	<span class="identifier">Use_Toggle</span>
<a name="193"></a>};
<a name="194"></a>
<a name="195"></a><span class="keyword">funcenum</span> <span class="identifier">SDKHookCB</span>
<a name="196"></a>{
<a name="197"></a>	<span class="commentline">// PreThink/Post
<a name="198"></a></span>	<span class="commentline">// PostThink/Post
<a name="199"></a></span>	<span class="keyword">public</span>(<span class="identifier">client</span>),
<a name="200"></a>	
<a name="201"></a>	<span class="commentline">// Spawn
<a name="202"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">entity</span>),
<a name="203"></a>	
<a name="204"></a>	<span class="commentline">// GroundEntChanged
<a name="205"></a></span>	<span class="commentline">// SpawnPost
<a name="206"></a></span>	<span class="commentline">// Think/Post
<a name="207"></a></span>	<span class="commentline">// VPhysicsUpdate/Post
<a name="208"></a></span>	<span class="keyword">public</span>(<span class="identifier">entity</span>),
<a name="209"></a>	
<a name="210"></a>	<span class="commentline">// EndTouch
<a name="211"></a></span>	<span class="commentline">// StartTouch
<a name="212"></a></span>	<span class="commentline">// Touch
<a name="213"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">entity</span>, <span class="identifier">other</span>),
<a name="214"></a>	
<a name="215"></a>	<span class="commentline">// EndTouchPost
<a name="216"></a></span>	<span class="commentline">// StartTouchPost
<a name="217"></a></span>	<span class="commentline">// TouchPost
<a name="218"></a></span>	<span class="keyword">public</span>(<span class="identifier">entity</span>, <span class="identifier">other</span>),
<a name="219"></a>	
<a name="220"></a>	<span class="commentline">// SetTransmit
<a name="221"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">entity</span>, <span class="identifier">client</span>),
<a name="222"></a>	
<a name="223"></a>	<span class="commentline">// WeaponCanSwitchTo
<a name="224"></a></span>	<span class="commentline">// WeaponCanUse
<a name="225"></a></span>	<span class="commentline">// WeaponDrop
<a name="226"></a></span>	<span class="commentline">// WeaponEquip
<a name="227"></a></span>	<span class="commentline">// WeaponSwitch
<a name="228"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">client</span>, <span class="identifier">weapon</span>),
<a name="229"></a>	
<a name="230"></a>	<span class="commentline">// WeaponCanSwitchToPost
<a name="231"></a></span>	<span class="commentline">// WeaponCanUsePost
<a name="232"></a></span>	<span class="commentline">// WeaponDropPost
<a name="233"></a></span>	<span class="commentline">// WeaponEquipPost
<a name="234"></a></span>	<span class="commentline">// WeaponSwitchPost
<a name="235"></a></span>	<span class="keyword">public</span>(<span class="identifier">client</span>, <span class="identifier">weapon</span>),
<a name="236"></a>	
<a name="237"></a>	<span class="commentline">// GetMaxHealth (ep2v and later)
<a name="238"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">entity</span>, &amp;<span class="identifier">maxhealth</span>),
<a name="239"></a>	
<a name="240"></a>	<span class="commentline">// OnTakeDamage
<a name="241"></a></span>	<span class="commentline">// Note: The weapon parameter is not used by all games and damage sources.
<a name="242"></a></span>	<span class="commentline">// Note: Force application is dependent on game and damage type(s)
<a name="243"></a></span>	<span class="commentline">// SDKHooks 1.0+
<a name="244"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">victim</span>, &amp;<span class="identifier">attacker</span>, &amp;<span class="identifier">inflictor</span>, &amp;<span class="keyword type">Float</span>:<span class="identifier">damage</span>, &amp;<span class="identifier">damagetype</span>),
<a name="245"></a>	<span class="commentline">// SDKHooks 2.0+
<a name="246"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">victim</span>, &amp;<span class="identifier">attacker</span>, &amp;<span class="identifier">inflictor</span>, &amp;<span class="keyword type">Float</span>:<span class="identifier">damage</span>, &amp;<span class="identifier">damagetype</span>, &amp;<span class="identifier">weapon</span>, <span class="keyword type">Float</span>:<span class="identifier">damageForce</span>[<span class="number">3</span>], <span class="keyword type">Float</span>:<span class="identifier">damagePosition</span>[<span class="number">3</span>]),
<a name="247"></a>	<span class="commentline">// SDKHooks 2.1+  (can check for support at runtime using GetFeatureStatus on SDKHook_DmgCustomInOTD capability.
<a name="248"></a></span>	<span class="commentline">// DON'T attempt to access 'damagecustom' var if feature status != available
<a name="249"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">victim</span>, &amp;<span class="identifier">attacker</span>, &amp;<span class="identifier">inflictor</span>, &amp;<span class="keyword type">Float</span>:<span class="identifier">damage</span>, &amp;<span class="identifier">damagetype</span>, &amp;<span class="identifier">weapon</span>,
<a name="250"></a>		<span class="keyword type">Float</span>:<span class="identifier">damageForce</span>[<span class="number">3</span>], <span class="keyword type">Float</span>:<span class="identifier">damagePosition</span>[<span class="number">3</span>], <span class="identifier">damagecustom</span>),
<a name="251"></a>	
<a name="252"></a>	<span class="commentline">// OnTakeDamagePost
<a name="253"></a></span>	<span class="keyword">public</span>(<span class="identifier">victim</span>, <span class="identifier">attacker</span>, <span class="identifier">inflictor</span>, <span class="keyword type">Float</span>:<span class="identifier">damage</span>, <span class="identifier">damagetype</span>),
<a name="254"></a>	<span class="keyword">public</span>(<span class="identifier">victim</span>, <span class="identifier">attacker</span>, <span class="identifier">inflictor</span>, <span class="keyword type">Float</span>:<span class="identifier">damage</span>, <span class="identifier">damagetype</span>, <span class="identifier">weapon</span>, <span class="keyword">const</span> <span class="keyword type">Float</span>:<span class="identifier">damageForce</span>[<span class="number">3</span>], <span class="keyword">const</span> <span class="keyword type">Float</span>:<span class="identifier">damagePosition</span>[<span class="number">3</span>]),
<a name="255"></a>	
<a name="256"></a>	<span class="commentline">// FireBulletsPost
<a name="257"></a></span>	<span class="keyword">public</span>(<span class="identifier">client</span>, <span class="identifier">shots</span>, <span class="keyword">const</span> <span class="keyword type">String</span>:<span class="identifier">weaponname</span>[]),
<a name="258"></a>	
<a name="259"></a>	<span class="commentline">// TraceAttack
<a name="260"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">victim</span>, &amp;<span class="identifier">attacker</span>, &amp;<span class="identifier">inflictor</span>, &amp;<span class="keyword type">Float</span>:<span class="identifier">damage</span>, &amp;<span class="identifier">damagetype</span>, &amp;<span class="identifier">ammotype</span>, <span class="identifier">hitbox</span>, <span class="identifier">hitgroup</span>),
<a name="261"></a>	
<a name="262"></a>	<span class="commentline">// TraceAttackPost
<a name="263"></a></span>	<span class="keyword">public</span>(<span class="identifier">victim</span>, <span class="identifier">attacker</span>, <span class="identifier">inflictor</span>, <span class="keyword type">Float</span>:<span class="identifier">damage</span>, <span class="identifier">damagetype</span>, <span class="identifier">ammotype</span>, <span class="identifier">hitbox</span>, <span class="identifier">hitgroup</span>),
<a name="264"></a>	
<a name="265"></a>	<span class="commentline">// ShouldCollide
<a name="266"></a></span>	<span class="keyword type">bool</span>:<span class="keyword">public</span>(<span class="identifier">entity</span>, <span class="identifier">collisiongroup</span>, <span class="identifier">contentsmask</span>, <span class="keyword type">bool</span>:<span class="identifier">originalResult</span>),
<a name="267"></a>	
<a name="268"></a>	<span class="commentline">// Use
<a name="269"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">entity</span>, <span class="identifier">activator</span>, <span class="identifier">caller</span>, <span class="identifier">UseType</span>:<span class="identifier">type</span>, <span class="keyword type">Float</span>:<span class="identifier">value</span>),
<a name="270"></a>	
<a name="271"></a>	<span class="commentline">// UsePost
<a name="272"></a></span>	<span class="keyword">public</span>(<span class="identifier">entity</span>, <span class="identifier">activator</span>, <span class="identifier">caller</span>, <span class="identifier">UseType</span>:<span class="identifier">type</span>, <span class="keyword type">Float</span>:<span class="identifier">value</span>),
<a name="273"></a>	
<a name="274"></a>	<span class="commentline">// Reload
<a name="275"></a></span>	<span class="identifier">Action</span>:<span class="keyword">public</span>(<span class="identifier">weapon</span>),
<a name="276"></a>	
<a name="277"></a>	<span class="commentline">// Reload post
<a name="278"></a></span>	<span class="keyword">public</span>(<span class="identifier">weapon</span>, <span class="keyword type">bool</span>:<span class="identifier">bSuccessful</span>)
<a name="279"></a>};
<a name="280"></a>
<a name="281"></a>
<a name="282"></a><span class="comment">/**
<a name="283"></a> * <span class="doctag">@brief</span> When an entity is created
<a name="284"></a> *
<a name="285"></a> * <span class="doctag">@param</span>		entity		Entity index
<a name="286"></a> * <span class="doctag">@param</span>		classname	Class name
<a name="287"></a> * <span class="doctag">@noreturn</span>
<a name="288"></a> */</span>
<a name="289"></a><span class="keyword">forward</span> <span class="identifier">OnEntityCreated</span>(<span class="identifier">entity</span>, <span class="keyword">const</span> <span class="keyword type">String</span>:<span class="identifier">classname</span>[]);
<a name="290"></a>
<a name="291"></a><span class="comment">/**
<a name="292"></a> * <span class="doctag">@brief</span> When an entity is destroyed
<a name="293"></a> *
<a name="294"></a> * <span class="doctag">@param</span>		entity		Entity index
<a name="295"></a> * <span class="doctag">@noreturn</span>
<a name="296"></a> */</span>
<a name="297"></a><span class="keyword">forward</span> <span class="identifier">OnEntityDestroyed</span>(<span class="identifier">entity</span>);
<a name="298"></a>
<a name="299"></a><span class="comment">/**
<a name="300"></a> * <span class="doctag">@brief</span> When the game description is retrieved
<a name="301"></a> *
<a name="302"></a> * <span class="doctag">@note</span>  Not supported on ep2v.
<a name="303"></a> *
<a name="304"></a> * <span class="doctag">@param</span>		gameDesc		Game description
<a name="305"></a> * <span class="doctag">@noreturn</span>
<a name="306"></a> */</span>
<a name="307"></a><span class="keyword">forward</span> <span class="identifier">Action</span>:<span class="identifier">OnGetGameDescription</span>(<span class="keyword type">String</span>:<span class="identifier">gameDesc</span>[<span class="number">64</span>]);
<a name="308"></a>
<a name="309"></a><span class="comment">/**
<a name="310"></a> * <span class="doctag">@brief</span> When the level is initialized
<a name="311"></a> *
<a name="312"></a> * <span class="doctag">@param</span>		mapName			Name of the map
<a name="313"></a> * <span class="doctag">@param</span>		mapEntities	Entities of the map
<a name="314"></a> * <span class="doctag">@noreturn</span>
<a name="315"></a> */</span>
<a name="316"></a><span class="keyword">forward</span> <span class="identifier">Action</span>:<span class="identifier">OnLevelInit</span>(<span class="keyword">const</span> <span class="keyword type">String</span>:<span class="identifier">mapName</span>[], <span class="keyword type">String</span>:<span class="identifier">mapEntities</span>[<span class="number">2097152</span>]);
<a name="317"></a>
<a name="318"></a><span class="comment">/**
<a name="319"></a> * <span class="doctag">@brief</span> Hooks an entity
<a name="320"></a> *
<a name="321"></a> * <span class="doctag">@param</span>		entity		Entity index
<a name="322"></a> * <span class="doctag">@param</span>		type			Type of function to hook
<a name="323"></a> * <span class="doctag">@param</span>		callback	Function to call when hook is called
<a name="324"></a> * <span class="doctag">@noreturn</span>
<a name="325"></a> */</span>
<a name="326"></a><span class="keyword">native</span> <span class="identifier">SDKHook</span>(<span class="identifier">entity</span>, <span class="identifier">SDKHookType</span>:<span class="identifier">type</span>, <span class="identifier">SDKHookCB</span>:<span class="identifier">callback</span>);
<a name="327"></a>
<a name="328"></a><span class="comment">/**
<a name="329"></a> * <span class="doctag">@brief</span> Hooks an entity
<a name="330"></a> *
<a name="331"></a> * <span class="doctag">@param</span>		entity		Entity index
<a name="332"></a> * <span class="doctag">@param</span>		type			Type of function to hook
<a name="333"></a> * <span class="doctag">@param</span>		callback	Function to call when hook is called
<a name="334"></a> * <span class="doctag">@return</span>		bool		Hook Successful
<a name="335"></a> */</span>
<a name="336"></a><span class="keyword">native</span> <span class="keyword type">bool</span>:<span class="identifier">SDKHookEx</span>(<span class="identifier">entity</span>, <span class="identifier">SDKHookType</span>:<span class="identifier">type</span>, <span class="identifier">SDKHookCB</span>:<span class="identifier">callback</span>);
<a name="337"></a>
<a name="338"></a><span class="comment">/**
<a name="339"></a> * <span class="doctag">@brief</span> Unhooks an entity
<a name="340"></a> *
<a name="341"></a> * <span class="doctag">@param</span>    entity   Entity index
<a name="342"></a> * <span class="doctag">@param</span>    type     Type of function to unhook
<a name="343"></a> * <span class="doctag">@param</span>    callback Callback function to unhook
<a name="344"></a> * <span class="doctag">@noreturn</span>
<a name="345"></a> */</span>
<a name="346"></a><span class="keyword">native</span> <span class="identifier">SDKUnhook</span>(<span class="identifier">entity</span>, <span class="identifier">SDKHookType</span>:<span class="identifier">type</span>, <span class="identifier">SDKHookCB</span>:<span class="identifier">callback</span>);
<a name="347"></a>
<a name="348"></a><span class="comment">/**
<a name="349"></a> * <span class="doctag">@brief</span> Applies damage to an entity
<a name="350"></a> *
<a name="351"></a> * <span class="doctag">@note</span> Force application is dependent on game and damage type(s)
<a name="352"></a> *
<a name="353"></a> * <span class="doctag">@param</span>    entity         Entity index taking damage
<a name="354"></a> * <span class="doctag">@param</span>    inflictor      Inflictor entity index
<a name="355"></a> * <span class="doctag">@param</span>    attacker       Attacker entity index
<a name="356"></a> * <span class="doctag">@param</span>    damage         Amount of damage
<a name="357"></a> * <span class="doctag">@param</span>    damageType     Bitfield of damage types
<a name="358"></a> * <span class="doctag">@param</span>    weapon         Weapon index (orangebox and later) or -1 for unspecified
<a name="359"></a> * <span class="doctag">@param</span>    damageForce    Velocity of damage force
<a name="360"></a> * <span class="doctag">@param</span>    damagePosition Origin of damage
<a name="361"></a> * <span class="doctag">@noreturn</span>
<a name="362"></a> */</span>
<a name="363"></a><span class="keyword">native</span> <span class="identifier">SDKHooks_TakeDamage</span>(<span class="identifier">entity</span>, <span class="identifier">inflictor</span>, <span class="identifier">attacker</span>, <span class="keyword type">Float</span>:<span class="identifier">damage</span>, <span class="identifier">damageType</span>=<span class="identifier">DMG_GENERIC</span>, <span class="identifier">weapon</span>=-<span class="number">1</span>, <span class="keyword">const</span> <span class="keyword type">Float</span>:<span class="identifier">damageForce</span>[<span class="number">3</span>]=<span class="keyword core">NULL_VECTOR</span>, <span class="keyword">const</span> <span class="keyword type">Float</span>:<span class="identifier">damagePosition</span>[<span class="number">3</span>]=<span class="keyword core">NULL_VECTOR</span>);
<a name="364"></a>
<a name="365"></a><span class="comment">/**
<a name="366"></a> * <span class="doctag">@brief</span>				Forces a client to drop the specified weapon
<a name="367"></a> *
<a name="368"></a> * <span class="doctag">@param</span> client		Client index.
<a name="369"></a> * <span class="doctag">@param</span> weapon		Weapon entity index.
<a name="370"></a> * <span class="doctag">@param</span> vecTarget		Location to toss weapon to, or NULL_VECTOR for default.
<a name="371"></a> * <span class="doctag">@param</span> vecVelocity	Velocity at which to toss weapon, or NULL_VECTOR for default.
<a name="372"></a> * <span class="doctag">@noreturn</span>
<a name="373"></a> * <span class="doctag">@error</span>				Invalid client or weapon entity, weapon not owned by client.
<a name="374"></a> */</span>
<a name="375"></a><span class="keyword">native</span> <span class="identifier">SDKHooks_DropWeapon</span>(<span class="identifier">client</span>, <span class="identifier">weapon</span>, <span class="keyword">const</span> <span class="keyword type">Float</span>:<span class="identifier">vecTarget</span>[<span class="number">3</span>]=<span class="keyword core">NULL_VECTOR</span>, <span class="keyword">const</span> <span class="keyword type">Float</span>:<span class="identifier">vecVelocity</span>[<span class="number">3</span>]=<span class="keyword core">NULL_VECTOR</span>);
<a name="376"></a>
<a name="377"></a><span class="comment">/**
<a name="378"></a> * Do not edit below this line!
<a name="379"></a> */</span>
<a name="380"></a><span class="keyword">public</span> <span class="identifier">Extension</span>:<span class="identifier">__ext_sdkhooks</span> = 
<a name="381"></a>{
<a name="382"></a>	<span class="identifier">name</span> = <span class="string">"SDKHooks"</span>,
<a name="383"></a>	<span class="identifier">file</span> = <span class="string">"sdkhooks.ext"</span>,
<a name="384"></a><span class="preprocessor">#if <span class="identifier">defined</span> <span class="identifier">AUTOLOAD_EXTENSIONS</span>
<a name="385"></a></span>	<span class="identifier">autoload</span> = <span class="number">1</span>,
<a name="386"></a><span class="preprocessor">#else
<a name="387"></a></span>	<span class="identifier">autoload</span> = <span class="number">0</span>,
<a name="388"></a><span class="preprocessor">#endif
<a name="389"></a></span><span class="preprocessor">#if <span class="identifier">defined</span> <span class="identifier">REQUIRE_EXTENSIONS</span>
<a name="390"></a></span>	<span class="identifier">required</span> = <span class="number">1</span>,
<a name="391"></a><span class="preprocessor">#else
<a name="392"></a></span>	<span class="identifier">required</span> = <span class="number">0</span>,
<a name="393"></a><span class="preprocessor">#endif
<a name="394"></a></span>};
<!-- 96 empty lines to enable positioning at last anchor -->






























































































</pre>